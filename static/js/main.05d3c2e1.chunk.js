(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{16:function(e,t,n){},17:function(e,t,n){},24:function(e,t,n){},25:function(e,t,n){"use strict";n.r(t);var c=n(2),s=n(3),a=n.n(s),o=n(9),r=n.n(o),u=(n(16),n(4)),i=(n(17),n(8)),l={};var d=function(e){if(l[e])return l[e];var t=(new i.a).withUrl(e).configureLogging(i.b.Information).build();return t.start(),l[e]=t,t};n(24);function b(e){return Object(c.jsxs)("div",{className:"message style-text-box",children:[Object(c.jsxs)("div",{className:"user-tag",children:["User: ",e.user]}),Object(c.jsx)("div",{className:"message-text",children:e.message})]})}function j(e){var t=Object(s.useState)(""),n=Object(u.a)(t,2),a=n[0],o=n[1],r=Object(s.useState)(""),i=Object(u.a)(r,2),l=i[0],d=i[1];return Object(c.jsxs)("div",{className:"new-message",children:["New Message:",Object(c.jsx)("textarea",{className:"style-ta style-text-box",value:l,onChange:function(e){d(e.target.value)},placeholder:"Name"}),Object(c.jsx)("textarea",{className:"style-ta style-text-box",value:a,onChange:function(e){o(e.target.value)},placeholder:"Message"}),Object(c.jsx)("button",{onClick:function(){e.connection.send("SendMessage",l,a,e.group),o("")},disabled:!e.connected,className:"style-button",children:"Send Message"})]})}function g(e){return Object(c.jsx)("div",{className:"delete-area",children:Object(c.jsx)("button",{className:"style-button",onClick:e.delete,children:"Remove"})})}var h=function(e){var t=Object(s.useState)([]),n=Object(u.a)(t,2),a=n[0],o=n[1],r=function(e,t,n){var c=a.slice();c.push({user:e,message:t,id:n}),o(c)};Object(s.useEffect)((function(){return e.connected&&e.connection.on("ReceiveMessage".concat(e.group),r),function(){e.connection.off("ReceiveMessage".concat(e.group),r)}}),[e.group,a,e.connected,e.connection,r]);var i=a.map((function(e){return Object(c.jsx)(b,{user:e.user,message:e.message},e.id)}));return Object(c.jsxs)("div",{className:"chat-group",children:[e.group,Object(c.jsx)(g,{group:e.group,delete:function(){return e.delete(e.group)}}),Object(c.jsx)(j,{connection:e.connection,connected:e.connected,group:e.group}),i]})};function f(e){var t=Object(s.useState)(""),n=Object(u.a)(t,2),a=n[0],o=n[1];var r=Object(s.useCallback)((function(t){e.connected&&o(t.target.value)}),[e.connected]);return Object(c.jsxs)("div",{className:"add-group",children:[Object(c.jsx)("textarea",{className:"style-ta style-text-box",value:a,onChange:r,placeholder:"Group Name"}),Object(c.jsx)("button",{onClick:function(){if(e.connected){e.connection.send("SubscribeToChat",a);var t=e.chats.slice();t.push(Object(c.jsx)(h,{connected:e.connected,connection:e.connection,group:a,delete:function(t){return function(t){var n=e.chats.findIndex((function(e){return e.key===t})),c=e.chats.splice(n,1);e.setChats(c),e.connection.send("UnsubscribeChat",t)}(t)}},a)),e.setChats(t),o("")}},disabled:!e.connected,className:"style-button",children:"Join Group"})]})}var O=function(){var e=Object(s.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1],o=Object(s.useState)(null),r=Object(u.a)(o,2),i=r[0],l=r[1],b=Object(s.useState)([]),j=Object(u.a)(b,2),g=j[0],h=j[1];return Object(s.useEffect)((function(){var e="".concat("https://signalr-react-chatapp.azurewebsites.net/","/chathub");l(d(e)),null!==i&&i.on("OnConnected",(function(){a(!0)}))}),[i]),Object(c.jsxs)("div",{className:"app",children:[Object(c.jsx)(f,{chats:g,setChats:h,connected:n,connection:i}),Object(c.jsx)("div",{className:"chats",children:g})]})},x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,26)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),s(e),a(e),o(e)}))};r.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(O,{})}),document.getElementById("root")),x()}},[[25,1,2]]]);
//# sourceMappingURL=main.05d3c2e1.chunk.js.map