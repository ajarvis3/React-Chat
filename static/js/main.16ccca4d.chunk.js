(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{16:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){},25:function(e,t,n){"use strict";n.r(t);var c=n(2),s=n(3),a=n.n(s),o=n(9),r=n.n(o),u=(n(16),n(4));n(17),n(18);function i(e){return Object(c.jsxs)("div",{className:"message style-text-box",children:[Object(c.jsxs)("div",{className:"user-tag",children:["User: ",e.user]}),Object(c.jsx)("div",{className:"message-text",children:e.message})]})}function l(e){var t=Object(s.useState)(""),n=Object(u.a)(t,2),a=n[0],o=n[1],r=Object(s.useState)(""),i=Object(u.a)(r,2),l=i[0],b=i[1];return Object(c.jsxs)("div",{className:"new-message",children:["New Message:",Object(c.jsx)("textarea",{className:"style-ta style-text-box",value:l,onChange:function(e){b(e.target.value)},placeholder:"Name"}),Object(c.jsx)("textarea",{className:"style-ta style-text-box",value:a,onChange:function(e){o(e.target.value)},placeholder:"Message"}),Object(c.jsx)("button",{onClick:function(){e.connection.send("SendMessage",l,a,e.group),o("")},className:"style-button",children:"Send Message"})]})}function b(e){return Object(c.jsx)("div",{className:"delete-area",children:Object(c.jsx)("button",{className:"style-button",onClick:e.delete,children:"Remove"})})}var j=function(e){var t=Object(s.useState)([]),n=Object(u.a)(t,2),a=n[0],o=n[1],r=function(e,t,n){var c=a.slice();c.push({user:e,message:t,id:n}),o(c)};Object(s.useEffect)((function(){return e.connection.on("ReceiveMessage".concat(e.group),r),function(){e.connection.off("ReceiveMessage".concat(e.group),r)}}),[e.group,a,e.connection,r]);var j=a.map((function(e){return Object(c.jsx)(i,{user:e.user,message:e.message},e.id)}));return Object(c.jsxs)("div",{className:"chat-group",children:[e.group,Object(c.jsx)(b,{group:e.group,delete:function(){return e.delete(e.group,e.chats)}}),Object(c.jsx)(l,{connection:e.connection,group:e.group}),j]})},d=n(8),g={};function h(e){var t=Object(s.useState)(""),n=Object(u.a)(t,2),a=n[0],o=n[1],r=e.chats,i=e.connection,l=e.setChats,b=Object(s.useCallback)((function(){i.send("SubscribeToChat",a);var e=r.slice();e.push(a),l(e),o("")}),[r,a,i,l]);return Object(c.jsxs)("div",{className:"add-group",children:[Object(c.jsx)("textarea",{className:"style-ta style-text-box",value:a,onChange:function(e){o(e.target.value)},placeholder:"Group Name"}),Object(c.jsx)("button",{onClick:b,className:"style-button",children:"Join Group"})]})}var O=function(){var e=Object(s.useState)(null),t=Object(u.a)(e,2),n=t[0],a=t[1],o=Object(s.useState)(!1),r=Object(u.a)(o,2),i=r[0],l=r[1],b=Object(s.useState)([]),O=Object(u.a)(b,2),f=O[0],x=O[1],p=Object(s.useCallback)((function(e,t){var c=t.findIndex((function(t){return t===e})),s=t.slice();s.splice(c,1),x(s),n.send("UnsubscribeChat",e)}),[n]);Object(s.useEffect)((function(){var e="".concat("https://signalr-react-chatapp.azurewebsites.net","/chathub");a(function(e,t){if(g[e])return g[e];var n=(new d.a).withUrl(e).configureLogging(d.b.Information).build();return n.start(),n.on("OnConnected",(function(){t(!0)})),g[e]=n,n}(e,l))}),[]);var v=f.map((function(e){return Object(c.jsx)(j,{connection:n,group:e,delete:p,chats:f},e)}));return Object(c.jsxs)("div",{className:"app",children:[i?Object(c.jsx)(h,{chats:f,setChats:x,connection:n,deleteChat:p}):"Not Connected",Object(c.jsx)("div",{className:"chats",children:v})]})},f=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,26)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),s(e),a(e),o(e)}))};r.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(O,{})}),document.getElementById("root")),f()}},[[25,1,2]]]);
//# sourceMappingURL=main.16ccca4d.chunk.js.map